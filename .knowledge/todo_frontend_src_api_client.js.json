{"is_source_file": true, "format": "JavaScript", "description": "This file defines a client library for interacting with the backend API of a Todo app, including classes, methods, and functions for authentication, task and subtask management, with session support and error handling.", "external_files": ["https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error", "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URLSearchParams", "fetch API"], "external_methods": ["fetch"], "published": ["ApiClient", "ApiError", "toQueryString", "api"], "classes": [{"name": "ApiError", "description": "Custom error class used to represent API request failures, encapsulating message, status code, and response data."}, {"name": "ApiClient", "description": "Main class providing methods for interacting with the Todo application's backend API, including user authentication, task and subtask CRUD operations, and status updates."}], "methods": [{"name": "constructor(baseUrl)", "description": "Initializes an ApiClient instance, setting the base URL from environment variables or default.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "_url(path)", "description": "Constructs a full URL for API requests, ensuring proper slashes.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "_request(path, options = {})", "description": "Performs a fetch request, handling JSON serialization/deserialization, error responses, and headers.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "login(username, password)", "description": "Logs in a user by sending credentials to the backend, expecting session cookies to be set upon success.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "logout()", "description": "Logs out the current user session.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "currentUser()", "description": "Fetches the currently authenticated user's information.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "getTasks(params = {})", "description": "Retrieves a list of tasks with optional filtering, sorting, and search parameters.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "getTask(id)", "description": "Retrieves details of a specific task by ID.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "createTask(data)", "description": "Creates a new task with provided data.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "updateTask(id, data)", "description": "Updates an existing task identified by ID.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "deleteTask(id)", "description": "Deletes a task by ID.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "markTaskComplete(id, completed = true)", "description": "Marks a task as complete or incomplete, trying a dedicated endpoint first, then falling back to updating the task.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "listSubtasks(taskId)", "description": "Lists all subtasks under a specific task.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "getSubtask(taskId, subtaskId)", "description": "Retrieves a specific subtask by ID under a task.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "createSubtask(taskId, data)", "description": "Creates a new subtask for a specified task.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "updateSubtask(taskId, subtaskId, data)", "description": "Updates a subtask by ID under a task.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "deleteSubtask(taskId, subtaskId)", "description": "Deletes a subtask from a task.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "markSubtaskComplete(taskId, subtaskId, completed = true)", "description": "Marks a subtask as complete or incomplete, with fallback to updating.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "constructor(message, status, data)", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}, {"name": "toQueryString(params = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "process.env.REACT_APP_API_BASE", "new URLSearchParams()", "resp.headers.get()", "resp.json()", "resp.text()"], "search-terms": ["ApiClient", "API", "Todo", "client", "fetch", "session-aware", "auth", "subtasks", "CRUD", "mark-complete"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiClient", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^export class ApiClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^export class ApiError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "_request", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async _request(path, options = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(path, options = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "_url", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  _url(path) {$/", "language": "JavaScript", "kind": "method", "signature": "(path)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^const api = new ApiClient();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  constructor(baseUrl) {$/", "language": "JavaScript", "kind": "method", "signature": "(baseUrl)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  constructor(message, status, data) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, status, data)", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "createSubtask", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async createSubtask(taskId, data) {$/", "language": "JavaScript", "kind": "method", "signature": "(taskId, data)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "createTask", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async createTask(data) {$/", "language": "JavaScript", "kind": "method", "signature": "(data)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "currentUser", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async currentUser() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "deleteSubtask", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async deleteSubtask(taskId, subtaskId) {$/", "language": "JavaScript", "kind": "method", "signature": "(taskId, subtaskId)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "deleteTask", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async deleteTask(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getSubtask", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async getSubtask(taskId, subtaskId) {$/", "language": "JavaScript", "kind": "method", "signature": "(taskId, subtaskId)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getTask", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async getTask(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getTasks", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async getTasks(params = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(params = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "listSubtasks", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async listSubtasks(taskId) {$/", "language": "JavaScript", "kind": "method", "signature": "(taskId)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async login(username, password) {$/", "language": "JavaScript", "kind": "method", "signature": "(username, password)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async logout() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "markSubtaskComplete", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async markSubtaskComplete(taskId, subtaskId, completed = true) {$/", "language": "JavaScript", "kind": "method", "signature": "(taskId, subtaskId, completed = true)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "markTaskComplete", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async markTaskComplete(id, completed = true) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, completed = true)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "toQueryString", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^function toQueryString(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "updateSubtask", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async updateSubtask(taskId, subtaskId, data) {$/", "language": "JavaScript", "kind": "method", "signature": "(taskId, subtaskId, data)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "updateTask", "path": "/home/kavia/workspace/code-generation/smart-task-organizer-72289-72340/todo_frontend/src/api/client.js", "pattern": "/^  async updateTask(id, data) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, data)", "scope": "ApiClient", "scopeKind": "class"}], "hash": "a4a2676a685bed1fd25c281124456acb", "format-version": 4, "code-base-name": "todo_frontend", "filename": "todo_frontend/src/api/client.js", "revision_history": [{"27": ""}]}